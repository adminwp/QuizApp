import {
	getUserFromStorage,
	isEmptyStore,
	updateUserInStorage,
} from './Storage';

let nameStoreQuiz = 'quizUser';

function getUser() {
	if (!isEmptyStore(nameStoreQuiz)) {
		const user = getUserFromStorage(nameStoreQuiz);
		return user;
	}
}

function updateUserProfile() {
	return new Promise((resolve, reject) => {
		const user = getUser();
		if (user) {
			const { name, email, gender } = user;

			const quizStart = () => {
				return new Promise((resolve, reject) => {
					const manAvatar = `
						<svg height="512" viewBox="0 0 54 60"
						width="512"xmlns="http://www.w3.org/2000/svg"><path
						id="Shape"d="m.54 55.868c4.882 3.055 13.385 4.379 19.148 4.841 9.438.758 25.849.118 33.772-4.841.3069331-.1918474.486237-.5345795.4688135-.8961175s-.2288544-.6854395-.5528135-.8468825c-.89-.443-3.464-1.857-4.692-2.559-6.7-3.906-5.3-.051-12.684-7v-5.814c1.913-1.812 3.017-3.385 3.14-6.161 2.0762625-1.0501436 3.4748571-3.0852853 3.711-5.4.21-1.062.666-4.063-.493-5.492 1.636-1.71 1.642-4.538 1.642-7.699-.0193245-2.5672862-1.6298946-4.85301229-4.041-5.735-.259-2.381-2.015-7.265-11.959-7.265-5.7296077-.02612126-11.4551031.31122271-17.142 1.01-.4665446.06567154-.8239655.44808698-.858.918-.19872873 2.72371321-.19872873 5.45828679 0 8.182.583 5.247 1.832 8.242 2.862 9.894-2.306.336-2.166 3.9-1.719 6.188.2402775 2.3131945 1.6376387 4.3465414 3.711 5.4.122 2.762 1.211 4.334 3.14 6.162v5.816c-1.4213258 1.390449-2.9637625 2.6514387-4.609 3.768-.82902.4916897-1.7324759.8453041-2.675 1.047-2.9.513-4.5 1.754-9.627 4.5-.428.228-.985.4-1.018 1.084-.01719487.3638073.164767.7081941.475.899zm47.144-2.568c1.031.589 2.077 1.164 3.129 1.733-3.9684017 1.6673351-8.1559063 2.7554666-12.434 3.231 1.7499009-2.0647192 2.9057607-4.5662015 3.344-7.237 1.73.587 2.527.273 5.961 2.273zm-6.8-26.445c-.0081852.0433028-.0138613.0870423-.017.131-.1472624 1.2809481-.779579 2.4568353-1.767 3.286-.153-3.248.431-3.612.75-7.065.3027726-.1737182.6532199-.2459104 1-.206.301.391.375 2.132.029 3.852zm-28.935-22.968c5.3288674-.60357398 10.6880748-.89973104 16.051-.887 9.025 0 10 4.2 10 6 .0021186.45641924.3112442.85421833.753.969.132.031 3.247.881 3.247 4.031 0 3.916-.115 6.069-2.017 6.91.006-.206.026-1.176.013-1.322-.657-7.098-3.036-8.588-4.915-8.588-4.144 0-4.246 1-8.081 1-3.818 0-3.96-1-8.081-1-2.6 0-4.268 2.748-4.847 8.026-1.1561251-2.5720638-1.859133-5.3245529-2.078-8.136-.1791231-2.33039313-.1941602-4.67049738-.045-7.003zm1.189 23.094c-.0031388-.0426334-.0088155-.085042-.017-.127-.363-1.816-.257-3.668.049-3.875.3353909-.0139849.6692846.0521768.974.193.3 3.341.91 3.828.756 7.1-.9871615-.8308364-1.6178509-2.0088152-1.762-3.291zm3.752 3.619c.224-4.655-.872-4.7-.89-10.851.3-3.269 1.218-6.749 2.919-6.749 3.819 0 3.96 1 8.081 1 4.143 0 4.245-1 8.081-1 1.419 0 2.537 2.6 2.919 6.718-.011 6.144-1.117 6.163-.89 10.886.283 5.923-1.521 4.611-5.209 10.021-1.152 1.689-1.68 2.375-3.201 2.375h-3.4c-2.73 0-2.668-2.755-6.138-5.911-2.291-2.074-2.403-3.732-2.272-6.489zm1.11 16.677v1.723c0 .5522847.4477153 1 1 1s1-.4477153 1-1v-7.894c1.474 2.094 2.413 3.894 5.3 3.894 5.512 0 5.655.441 8.7-3.894v7.894c0 .5522847.4477153 1 1 1s1-.4477153 1-1v-1.723c1.1735529 1.1045834 2.4611083 2.0813958 3.841 2.914-.367 2.283-1.621 7.176-5.709 8.527-4.7435806.3754983-9.5094194.3754983-14.253 0-4.1-1.347-5.353-6.243-5.72-8.528 1.3796244-.8326139 2.6671448-1.8090646 3.841-2.913zm-11.677 6.017c3.416-1.99 4.233-1.683 5.954-2.269.4380456 2.670858 1.5939282 5.1723899 3.344 7.237-4.2780937-.4755334-8.46559832-1.5636649-12.434-3.231 1.052-.569 2.1-1.145 3.136-1.737z"transform="translate(0 -1)"/>
						</svg>`;

					const femaleAvatar = `<svg height="512" viewBox="0 0 54 60" width="512" 
             	  	 	xmlns="http://www.w3.org/2000/svg"><path id="Shape"
             	   		d="m.479 55.868c7.465 4.669 22.664 5.483 31.581 4.989h.021c.023 0 .047-.007.07-.009 6.335-.357 15.936-1.652 21.259-4.983.358088-.2242362.5366103-.6493274.446-1.062-.5879496-2.7738525-3.0207226-4.769175-5.856-4.803-7.126 0-11.055-3.221-12.413-4.606-.1713084-.1641031-.2750987-.3863071-.291-.623-.0346909-1.4145613.1381461-2.8265691.513-4.191.126-.159.248-.3.375-.47s.227-.32.346-.482c1.331 4.805 4.275 7.535 9.26 7.535 3.0314847.056827 5.9281269-1.2512511 7.89-3.563.219174-.2887015.264963-.6734027.1196775-1.0054839-.1452856-.3320812-.4588966-.5595449-.8196775-.5945161-6.274-.6-5.095-20.667-5.095-27 0-9.159-5.532-14-16-14-3.826968-.13685533-7.3571432 2.05276202-8.935 5.542-3.494.957-8.782 3.578-9.064 10.692-.062 1.555-.071 2.82-.047 3.873-.7678495-.1727749-1.5676534-.1403551-2.319.094-2 .95-1.809 4.12-1.3 6.279.3743671 2.256936 1.8210494 4.1916871 3.88 5.189.337 2.97 2.008 5.572 3.852 7.909.3810236 1.3853478.5529213 2.8198506.51 4.256-.0130408.2217119-.1069769.4309332-.264.588-1.683 1.71-5.517 4.578-12.318 4.578-2.83558565.0340501-5.26688856 2.0333893-5.848 4.809-.08903704.4119247.08973476.8354579.447 1.059zm14.454 2.309c-.173-3.8-1.189-6.018-2.085-7.246.8533768-.282106 1.6849363-.626361 2.488-1.03.342 2.09 1.244 5.989 3.438 8.721-1.312-.122-2.598-.267-3.841-.445zm20.044.457c2.221-2.759 3.12-6.709 3.455-8.787.8105613.4066818 1.6490079.7552269 2.509 1.043-.9 1.222-1.942 3.454-2.115 7.306-1.245.176-2.535.319-3.849.438zm16.7-4.068c-3.4240338 1.6463483-7.0778879 2.7640494-10.837 3.315.272-4.166 1.7-5.886 2.246-6.4 1.6145727.3491934 3.2621031.5232 4.914.519 1.6427921-.0020784 3.1115931 1.0232054 3.676 2.566zm-12.032-24.235c-.285-2.224-.612-2.334-.2-4.506.1730932-.8632641.2969598-1.7356721.371-2.613.3765684-.1363456.7745288-.2040836 1.175-.2.1467169-.0220858.2963854-.0142622.44.023.581.352.562 2.384.147 4.023-.0130422.053924-.022067.108741-.027.164-.2060885 1.2450487-.8899348 2.3605147-1.906 3.109zm-7.765-27.331c9.29 0 14 4.038 14 12 0 7.244-1.171 25.185 5.076 28.46-1.9816348 1.4689951-4.4912715 2.0333093-6.911 1.554-3.963-.663-5.443-4.483-5.981-7.709.8432499-1.4196321 1.3877067-2.996515 1.6-4.634 2.0599778-.9940359 3.5055583-2.9304344 3.873-5.188.536-2.178.709-5.611-1.4-6.326-.721761-.1883497-1.4775908-.2051307-2.207-.049.024-1.053.016-2.319-.046-3.874-.4-10.023-10.736-11.1-12.02-11.226-.1-.01-1.756-.028-2.293.029 1.4565389-2.01118589 3.8284917-3.15298663 6.309-3.037zm-16 14.313c.245-6.2 5.039-8.275 7.953-8.966 1.2569735-.36204875 2.5716872-.47984004 3.873-.347.623.016 9.832.662 10.175 9.313.067 1.709.071 3.038.038 4.109-4.7182283-1.4424789-8.4641992-5.0509761-10.082-9.712-.1277982-.4216062-.5164501-.7099121-.957-.7099121s-.8292018.2883059-.957.7099121c-1.6176741 4.6613171-5.3636319 8.2701733-10.082 9.713-.033-1.072-.03-2.401.038-4.11zm-3.679 9.9c-.011-.118-.607-2.523-.138-3.792.0436543-.1561278.1370444-.2937552.266-.392.1027219-.028648.2097797-.0384729.316-.029.4400497-.0055188.8783842.055848 1.3.182.29 3.442.926 3.269.293 6.329-.056.274-.083.545-.118.816-1.0179069-.749985-1.7059826-1.8648826-1.92-3.111zm3.992 2.7c.693-3.343.08-3.616-.219-6.453 4.7484197-1.2621181 8.7228625-4.5088666 10.907-8.91 2.1844501 4.4008841 6.1587622 7.6475258 10.907 8.91-.3 2.842-.912 3.1-.22 6.453.59 2.851-.271 5.451-2.971 8.975-2.378 3.1-4.54 5.051-6.426 5.79-.8297951.3204972-1.7492049.3204972-2.579 0-1.885-.738-4.047-2.686-6.427-5.79-2.701-3.518-3.565-6.118-2.973-8.969zm3.427 16.912c.946-.958.9-2.051.814-3.411 4.613 4.6 8.158 4.723 12.891 0-.086 1.371-.128 2.4.834 3.377.7341584.7366142 1.541309 1.3966751 2.409 1.97-.228 1.755-1.274 7.941-4.806 10.108-3.2544329.1733334-6.5158553.1706628-9.77-.008-3.492-2.141-4.551-8.222-4.792-10.042.8714842-.5818437 1.6822319-1.2498729 2.42-1.994zm-13.74 5.175c1.62080111.0055596 3.23769317-.1593473 4.824-.492.571.549 1.945 2.28 2.214 6.351-3.71261294-.5510629-7.32025358-1.6616767-10.7-3.294.55906617-1.5405861 2.02311033-2.5660567 3.662-2.565z" transform="translate(0 -1)"/></svg>`;

					const avatar = document.querySelector('.quiz__profile-avatar');

					if (gender === 'male') {
						avatar.innerHTML = manAvatar;
					} else {
						avatar.innerHTML = femaleAvatar;
					}

					const userName = document.querySelector(
						'.quiz__profile-item.name .quiz__profile-span'
					);

					const userEmail = document.querySelector(
						'.quiz__profile-item.email .quiz__profile-span'
					);

					const userGender = document.querySelector(
						'.quiz__profile-item.gender .quiz__profile-span'
					);

					userName.textContent = name;
					userEmail.textContent = email;
					userGender.textContent = gender;

					resolve({
						message: 'Quiz Start ',
					});
				});
			};

			const quizComplete = ({ wrong, currect }) => {
				return new Promise((resolve, reject) => {
					const manAvatar = `
						<svg height="512" viewBox="0 0 54 60"
						width="512"xmlns="http://www.w3.org/2000/svg"><path
						id="Shape"d="m.54 55.868c4.882 3.055 13.385 4.379 19.148 4.841 9.438.758 25.849.118 33.772-4.841.3069331-.1918474.486237-.5345795.4688135-.8961175s-.2288544-.6854395-.5528135-.8468825c-.89-.443-3.464-1.857-4.692-2.559-6.7-3.906-5.3-.051-12.684-7v-5.814c1.913-1.812 3.017-3.385 3.14-6.161 2.0762625-1.0501436 3.4748571-3.0852853 3.711-5.4.21-1.062.666-4.063-.493-5.492 1.636-1.71 1.642-4.538 1.642-7.699-.0193245-2.5672862-1.6298946-4.85301229-4.041-5.735-.259-2.381-2.015-7.265-11.959-7.265-5.7296077-.02612126-11.4551031.31122271-17.142 1.01-.4665446.06567154-.8239655.44808698-.858.918-.19872873 2.72371321-.19872873 5.45828679 0 8.182.583 5.247 1.832 8.242 2.862 9.894-2.306.336-2.166 3.9-1.719 6.188.2402775 2.3131945 1.6376387 4.3465414 3.711 5.4.122 2.762 1.211 4.334 3.14 6.162v5.816c-1.4213258 1.390449-2.9637625 2.6514387-4.609 3.768-.82902.4916897-1.7324759.8453041-2.675 1.047-2.9.513-4.5 1.754-9.627 4.5-.428.228-.985.4-1.018 1.084-.01719487.3638073.164767.7081941.475.899zm47.144-2.568c1.031.589 2.077 1.164 3.129 1.733-3.9684017 1.6673351-8.1559063 2.7554666-12.434 3.231 1.7499009-2.0647192 2.9057607-4.5662015 3.344-7.237 1.73.587 2.527.273 5.961 2.273zm-6.8-26.445c-.0081852.0433028-.0138613.0870423-.017.131-.1472624 1.2809481-.779579 2.4568353-1.767 3.286-.153-3.248.431-3.612.75-7.065.3027726-.1737182.6532199-.2459104 1-.206.301.391.375 2.132.029 3.852zm-28.935-22.968c5.3288674-.60357398 10.6880748-.89973104 16.051-.887 9.025 0 10 4.2 10 6 .0021186.45641924.3112442.85421833.753.969.132.031 3.247.881 3.247 4.031 0 3.916-.115 6.069-2.017 6.91.006-.206.026-1.176.013-1.322-.657-7.098-3.036-8.588-4.915-8.588-4.144 0-4.246 1-8.081 1-3.818 0-3.96-1-8.081-1-2.6 0-4.268 2.748-4.847 8.026-1.1561251-2.5720638-1.859133-5.3245529-2.078-8.136-.1791231-2.33039313-.1941602-4.67049738-.045-7.003zm1.189 23.094c-.0031388-.0426334-.0088155-.085042-.017-.127-.363-1.816-.257-3.668.049-3.875.3353909-.0139849.6692846.0521768.974.193.3 3.341.91 3.828.756 7.1-.9871615-.8308364-1.6178509-2.0088152-1.762-3.291zm3.752 3.619c.224-4.655-.872-4.7-.89-10.851.3-3.269 1.218-6.749 2.919-6.749 3.819 0 3.96 1 8.081 1 4.143 0 4.245-1 8.081-1 1.419 0 2.537 2.6 2.919 6.718-.011 6.144-1.117 6.163-.89 10.886.283 5.923-1.521 4.611-5.209 10.021-1.152 1.689-1.68 2.375-3.201 2.375h-3.4c-2.73 0-2.668-2.755-6.138-5.911-2.291-2.074-2.403-3.732-2.272-6.489zm1.11 16.677v1.723c0 .5522847.4477153 1 1 1s1-.4477153 1-1v-7.894c1.474 2.094 2.413 3.894 5.3 3.894 5.512 0 5.655.441 8.7-3.894v7.894c0 .5522847.4477153 1 1 1s1-.4477153 1-1v-1.723c1.1735529 1.1045834 2.4611083 2.0813958 3.841 2.914-.367 2.283-1.621 7.176-5.709 8.527-4.7435806.3754983-9.5094194.3754983-14.253 0-4.1-1.347-5.353-6.243-5.72-8.528 1.3796244-.8326139 2.6671448-1.8090646 3.841-2.913zm-11.677 6.017c3.416-1.99 4.233-1.683 5.954-2.269.4380456 2.670858 1.5939282 5.1723899 3.344 7.237-4.2780937-.4755334-8.46559832-1.5636649-12.434-3.231 1.052-.569 2.1-1.145 3.136-1.737z"transform="translate(0 -1)"/>
						</svg>`;

					const femaleAvatar = `
						<svg height="512" viewBox="0 0 54 60" width="512" 
						xmlns="http://www.w3.org/2000/svg"><path id="Shape"
						d="m.479 55.868c7.465 4.669 22.664 5.483 31.581 4.989h.021c.023 0 .047-.007.07-.009 6.335-.357 15.936-1.652 21.259-4.983.358088-.2242362.5366103-.6493274.446-1.062-.5879496-2.7738525-3.0207226-4.769175-5.856-4.803-7.126 0-11.055-3.221-12.413-4.606-.1713084-.1641031-.2750987-.3863071-.291-.623-.0346909-1.4145613.1381461-2.8265691.513-4.191.126-.159.248-.3.375-.47s.227-.32.346-.482c1.331 4.805 4.275 7.535 9.26 7.535 3.0314847.056827 5.9281269-1.2512511 7.89-3.563.219174-.2887015.264963-.6734027.1196775-1.0054839-.1452856-.3320812-.4588966-.5595449-.8196775-.5945161-6.274-.6-5.095-20.667-5.095-27 0-9.159-5.532-14-16-14-3.826968-.13685533-7.3571432 2.05276202-8.935 5.542-3.494.957-8.782 3.578-9.064 10.692-.062 1.555-.071 2.82-.047 3.873-.7678495-.1727749-1.5676534-.1403551-2.319.094-2 .95-1.809 4.12-1.3 6.279.3743671 2.256936 1.8210494 4.1916871 3.88 5.189.337 2.97 2.008 5.572 3.852 7.909.3810236 1.3853478.5529213 2.8198506.51 4.256-.0130408.2217119-.1069769.4309332-.264.588-1.683 1.71-5.517 4.578-12.318 4.578-2.83558565.0340501-5.26688856 2.0333893-5.848 4.809-.08903704.4119247.08973476.8354579.447 1.059zm14.454 2.309c-.173-3.8-1.189-6.018-2.085-7.246.8533768-.282106 1.6849363-.626361 2.488-1.03.342 2.09 1.244 5.989 3.438 8.721-1.312-.122-2.598-.267-3.841-.445zm20.044.457c2.221-2.759 3.12-6.709 3.455-8.787.8105613.4066818 1.6490079.7552269 2.509 1.043-.9 1.222-1.942 3.454-2.115 7.306-1.245.176-2.535.319-3.849.438zm16.7-4.068c-3.4240338 1.6463483-7.0778879 2.7640494-10.837 3.315.272-4.166 1.7-5.886 2.246-6.4 1.6145727.3491934 3.2621031.5232 4.914.519 1.6427921-.0020784 3.1115931 1.0232054 3.676 2.566zm-12.032-24.235c-.285-2.224-.612-2.334-.2-4.506.1730932-.8632641.2969598-1.7356721.371-2.613.3765684-.1363456.7745288-.2040836 1.175-.2.1467169-.0220858.2963854-.0142622.44.023.581.352.562 2.384.147 4.023-.0130422.053924-.022067.108741-.027.164-.2060885 1.2450487-.8899348 2.3605147-1.906 3.109zm-7.765-27.331c9.29 0 14 4.038 14 12 0 7.244-1.171 25.185 5.076 28.46-1.9816348 1.4689951-4.4912715 2.0333093-6.911 1.554-3.963-.663-5.443-4.483-5.981-7.709.8432499-1.4196321 1.3877067-2.996515 1.6-4.634 2.0599778-.9940359 3.5055583-2.9304344 3.873-5.188.536-2.178.709-5.611-1.4-6.326-.721761-.1883497-1.4775908-.2051307-2.207-.049.024-1.053.016-2.319-.046-3.874-.4-10.023-10.736-11.1-12.02-11.226-.1-.01-1.756-.028-2.293.029 1.4565389-2.01118589 3.8284917-3.15298663 6.309-3.037zm-16 14.313c.245-6.2 5.039-8.275 7.953-8.966 1.2569735-.36204875 2.5716872-.47984004 3.873-.347.623.016 9.832.662 10.175 9.313.067 1.709.071 3.038.038 4.109-4.7182283-1.4424789-8.4641992-5.0509761-10.082-9.712-.1277982-.4216062-.5164501-.7099121-.957-.7099121s-.8292018.2883059-.957.7099121c-1.6176741 4.6613171-5.3636319 8.2701733-10.082 9.713-.033-1.072-.03-2.401.038-4.11zm-3.679 9.9c-.011-.118-.607-2.523-.138-3.792.0436543-.1561278.1370444-.2937552.266-.392.1027219-.028648.2097797-.0384729.316-.029.4400497-.0055188.8783842.055848 1.3.182.29 3.442.926 3.269.293 6.329-.056.274-.083.545-.118.816-1.0179069-.749985-1.7059826-1.8648826-1.92-3.111zm3.992 2.7c.693-3.343.08-3.616-.219-6.453 4.7484197-1.2621181 8.7228625-4.5088666 10.907-8.91 2.1844501 4.4008841 6.1587622 7.6475258 10.907 8.91-.3 2.842-.912 3.1-.22 6.453.59 2.851-.271 5.451-2.971 8.975-2.378 3.1-4.54 5.051-6.426 5.79-.8297951.3204972-1.7492049.3204972-2.579 0-1.885-.738-4.047-2.686-6.427-5.79-2.701-3.518-3.565-6.118-2.973-8.969zm3.427 16.912c.946-.958.9-2.051.814-3.411 4.613 4.6 8.158 4.723 12.891 0-.086 1.371-.128 2.4.834 3.377.7341584.7366142 1.541309 1.3966751 2.409 1.97-.228 1.755-1.274 7.941-4.806 10.108-3.2544329.1733334-6.5158553.1706628-9.77-.008-3.492-2.141-4.551-8.222-4.792-10.042.8714842-.5818437 1.6822319-1.2498729 2.42-1.994zm-13.74 5.175c1.62080111.0055596 3.23769317-.1593473 4.824-.492.571.549 1.945 2.28 2.214 6.351-3.71261294-.5510629-7.32025358-1.6616767-10.7-3.294.55906617-1.5405861 2.02311033-2.5660567 3.662-2.565z" transform="translate(0 -1)"/></svg>`;

					const avatar = document.querySelector('.quiz__complete-avatar');

					if (gender === 'male') {
						avatar.innerHTML = manAvatar;
					} else {
						avatar.innerHTML = femaleAvatar;
					}

					const userName = document.querySelector(
						'.quiz__complete-item.name .quiz__complete-span'
					);

					const userEmail = document.querySelector(
						'.quiz__complete-item.email .quiz__complete-span'
					);

					const userGender = document.querySelector(
						'.quiz__complete-item.gender .quiz__complete-span'
					);

					const currectValue = document.querySelector(
						'.quiz__complete-currect .quiz__complete-value'
					);

					const wrongValue = document.querySelector(
						'.quiz__complete-wrong .quiz__complete-value'
					);

					userName.textContent = name;
					userEmail.textContent = email;
					userGender.textContent = gender;
					currectValue.innerHTML = currect;
					wrongValue.innerHTML = wrong;

					document
						.querySelector('.quiz__main ')
						.classList.remove('active');
					document
						.querySelector('.quiz__start')
						.classList.remove('active');
					document
						.querySelector('.quiz__complete')
						.classList.add('active');

					updateUserInStorage(nameStoreQuiz, {
						name: userName.textContent,
						email: userEmail.textContent,
						gender: userGender.textContent,
						completeQuiz: 'yes',
						currect,
						wrong,
						startQuiz: 'nO',
					});

					resolve({
						message: 'Update Profile Quiz',
					});
				});
			};

			resolve({
				message: 'Update User UI',
				quizStart,
				quizComplete,
			});
		}
	});
}

function onlineUser() {
	return new Promise((resolve, reject) => {
		const internet = document.querySelector('.internet');
		const internetIcon = document.querySelector('.internet__icon');
		const internetTitle = document.querySelector('.internet__title');
		const internetSubTitle = document.querySelector('.internet__subtitile');

		const onlineIcon = `<svg
						xmlns="http://www.w3.org/2000/svg"
						width="24"
						height="24"
						viewBox="0 0 24 24"
						style="fill: inherit"
					>
						<path
							d="M12 6c3.537 0 6.837 1.353 9.293 3.809l1.414-1.414C19.874 5.561 16.071 4 12 4 7.929 4.001 4.126 5.561 1.293 8.395l1.414 1.414C5.163 7.353 8.463 6 12 6zM17.671 14.307c-3.074-3.074-8.268-3.074-11.342 0l1.414 1.414c2.307-2.307 6.207-2.307 8.514 0L17.671 14.307z"
						></path>
						<path
							d="M20.437,11.293c-4.572-4.574-12.301-4.574-16.873,0l1.414,1.414c3.807-3.807,10.238-3.807,14.045,0L20.437,11.293z"
						></path>
						<circle cx="12" cy="18" r="2"></circle>
					</svg>`;
		internetIcon.innerHTML = onlineIcon;
		internetTitle.textContent = 'Your is Online now';
		internetSubTitle.textContent = 'internet is available';

		setTimeout(() => {
			internet.classList.add('active', 'online');

			setTimeout(() => {
				internet.classList.remove('active', 'online');
				resolve();
			}, 2500);
		}, 2200);
	});
}

function offlineUser() {
	const internet = document.querySelector('.internet');
	const refreshElement = document.createElement('div');
	const refreshIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill:inherit;transform:;-ms-filter:"><path d="M10 11H7.101c0-.003 0-.006.001-.009.065-.319.163-.634.291-.937.126-.297.281-.583.461-.85.178-.264.384-.513.61-.74C8.691 8.238 8.94 8.032 9.206 7.853c.266-.18.551-.334.848-.46.302-.128.617-.226.938-.291.658-.135 1.357-.135 2.018 0 .318.065.634.163.937.291.296.125.581.281.85.461.266.179.514.384.738.609l1.416-1.412c-.314-.316-.664-.604-1.036-.855-.373-.252-.773-.47-1.188-.646-.425-.18-.868-.317-1.315-.408-.923-.189-1.899-.189-2.819 0-.449.092-.892.229-1.316.409C8.858 5.727 8.458 5.944 8.086 6.196 7.716 6.445 7.368 6.733 7.05 7.05S6.445 7.716 6.197 8.085c-.252.373-.47.773-.646 1.19-.18.424-.317.867-.408 1.315C5.115 10.725 5.1 10.863 5.08 11H2l4 4L10 11zM14 13h2.899c-.001.003 0 .006-.001.008-.066.324-.164.639-.292.938-.123.293-.278.579-.459.848-.179.264-.385.514-.613.742-.225.225-.473.43-.739.61-.268.18-.553.335-.849.461-.303.128-.618.226-.938.291-.657.135-1.357.135-2.017 0-.319-.065-.634-.163-.937-.291-.297-.126-.583-.281-.85-.461-.264-.178-.513-.384-.74-.61L7.05 16.95c.317.317.666.605 1.035.854.373.252.773.47 1.19.646.424.18.867.317 1.315.408C11.051 18.952 11.525 19 12 19s.949-.048 1.408-.142c.449-.091.893-.229 1.317-.409.415-.176.815-.393 1.188-.645.372-.251.722-.54 1.035-.854.317-.317.605-.666.855-1.037.254-.377.472-.777.645-1.187.178-.42.315-.863.408-1.316.027-.135.043-.273.063-.41H22l-4-4L14 13z"></path></svg>`;
	const internetIcon = document.querySelector('.internet__icon');
	const internetTitle = document.querySelector('.internet__title');
	const internetSubTitle = document.querySelector('.internet__subtitile');
	const offlineUser = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill:inherit;transform:;-ms-filter:"><path d="M1.293 8.395l1.414 1.414C3.211 9.305 3.759 8.859 4.329 8.45L2.9 7.021C2.34 7.443 1.796 7.891 1.293 8.395zM6.474 5.06L3.707 2.293 2.293 3.707l18 18 1.414-1.414-5.012-5.012.976-.975c-1.145-1.145-2.585-1.858-4.099-2.148L11.294 9.88c2.789-.191 5.649.748 7.729 2.827l1.414-1.414c-2.898-2.899-7.061-3.936-10.888-3.158L8.024 6.61C9.291 6.216 10.625 6 12 6c3.537 0 6.837 1.353 9.293 3.809l1.414-1.414C19.874 5.561 16.071 4 12 4 10.066 4.001 8.209 4.384 6.474 5.06zM3.563 11.293l1.414 1.414c.622-.622 1.319-1.132 2.058-1.551L5.576 9.697C4.859 10.148 4.181 10.676 3.563 11.293zM6.329 14.307l1.414 1.414c.692-.692 1.535-1.151 2.429-1.428l-1.557-1.557C7.782 13.115 7.003 13.633 6.329 14.307zM13.989 18.11l-2.1-2.1C10.838 16.069 10 16.933 10 18c-.001 1.104.895 2 2 2C13.066 20 13.931 19.162 13.989 18.11z"></path></svg>`;
	internetIcon.innerHTML = offlineUser;
	internetTitle.textContent = 'Your is Offline now';
	internetSubTitle.textContent = 'internet is not available';
	refreshElement.innerHTML = refreshIcon;
	refreshElement.classList.add('internet__refresh');

	internet.querySelector('.internet__header').appendChild(refreshElement);

	refreshElement.addEventListener('click', (e) => {
		window.location.reload();
	});

	setTimeout(() => {
		internet.classList.add('active', 'offline');
	}, 2500);
}

export { getUser, updateUserProfile, onlineUser, offlineUser };
